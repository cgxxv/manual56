## 第一章
1.1. About This Manual  .................................................................................................................  2
1.2. Typographical and Syntax Conventions  ...................................................................................  2
1.3. Overview of the MySQL Database Management System ..........................................................  4
1.3.1. What is MySQL?  .........................................................................................................  4
1.3.2. The Main Features of MySQL  ......................................................................................  6
1.3.3. History of MySQL  ........................................................................................................  8
1.4. What Is New in MySQL 5.6  ....................................................................................................  9
1.5. MySQL Development History  ................................................................................................  18
1.6. MySQL Information Sources  .................................................................................................  18
1.6.1. MySQL Mailing Lists  ..................................................................................................  19
1.6.2. MySQL Community Support at the MySQL Forums .....................................................  21
1.6.3. MySQL Community Support on Internet Relay Chat (IRC) ...........................................  21
1.6.4. MySQL Enterprise  .....................................................................................................  21
1.7. How to Report Bugs or Problems  .........................................................................................  22
1.8. MySQL Standards Compliance  .............................................................................................  26
1.8.1. What Standards MySQL Follows  ................................................................................  26
1.8.2. Selecting SQL Modes  ................................................................................................  27
1.8.3. Running MySQL in ANSI Mode  ..................................................................................  27
1.8.4. MySQL Extensions to Standard SQL  ..........................................................................  27
1.8.5. MySQL Differences from Standard SQL .....................................................................  30
1.8.6. How MySQL Deals with Constraints  ...........................................................................  34
1.9. Credits  .................................................................................................................................  38
1.9.1. Contributors to MySQL  ..............................................................................................  38
1.9.2. Documenters and translators  .....................................................................................  42
1.9.3. Packages that support MySQL  ...................................................................................  44
1.9.4. Tools that were used to create MySQL  ....................................................................... 44
1.9.5. Supporters of MySQL  ................................................................................................  45

## 第二章
2.1. General Installation Guidance  ...............................................................................................  49
2.1.1. Operating Systems Supported by MySQL Community Server ....................................... 49
2.1.2. Choosing Which MySQL Distribution to Install ............................................................. 50
2.1.3. How to Get MySQL  ...................................................................................................  53
2.1.4. Verifying Package Integrity Using MD5 Checksums or GnuPG ......................................  54
2.1.5. Installation Layouts  ....................................................................................................  62
2.1.6. Compiler-Specific Build Characteristics  .......................................................................  62
2.2. Installing MySQL on Unix/Linux Using Generic Binaries .........................................................  62
2.3. Installing MySQL on Microsoft Windows  ................................................................................  65
2.3.1. MySQL Installation Layout on Microsoft Windows ........................................................ 66
2.3.2. Choosing An Installation Package  ..............................................................................  67
2.3.3. Installing MySQL on Microsoft Windows Using MySQL Installer ...................................  67
2.3.4. MySQL Notifier for Microsoft Windows  ........................................................................ 84
2.3.5. Installing MySQL on Microsoft Windows Using a noinstall Zip Archive .....................  95
2.3.6. Troubleshooting a Microsoft Windows MySQL Server Installation ...............................  102
2.3.7. Upgrading MySQL on Windows  ................................................................................  104
2.3.8. Windows Postinstallation Procedures  ........................................................................  105
2.4. Installing MySQL on Mac OS X  ..........................................................................................  106
2.4.1. General Notes on Installing MySQL on Mac OS X .....................................................  107
2.4.2. Installing MySQL on Mac OS X Using Native Packages ............................................. 108
2.4.3. Installing the MySQL Startup Item  ............................................................................  110
2.4.4. Installing and Using the MySQL Preference Pane .....................................................  113
2.4.5. Using the Bundled MySQL on Mac OS X Server .......................................................  115
2.5. Installing MySQL on Linux  ..................................................................................................  115
2.5.1. Installing MySQL on Linux Using RPM Packages ......................................................  116
2.5.2. Installing MySQL on Linux Using Debian Packages ...................................................  120
2.5.3. Installing MySQL on Linux Using Native Package Managers ......................................  121
2.6. Installing MySQL on Solaris and OpenSolaris ......................................................................  124
2.6.1. Installing MySQL on Solaris Using a Solaris PKG ...................................................... 125
2.6.2. Installing MySQL on OpenSolaris Using IPS .............................................................  126
2.7. Installing MySQL on HP-UX  ................................................................................................  127
2.7.1. General Notes on Installing MySQL on HP-UX ..........................................................  127
2.7.2. Installing MySQL on HP-UX Using DEPOT Packages ................................................ 128
2.8. Installing MySQL on FreeBSD  ............................................................................................  128
2.9. Installing MySQL from Source  ............................................................................................. 129
2.9.1. MySQL Layout for Source Installation  .......................................................................  131
2.9.2. Installing MySQL Using a Standard Source Distribution .............................................  131
2.9.3. Installing MySQL Using a Development Source Tree .................................................  134
2.9.4. MySQL Source-Configuration Options  ....................................................................... 136
2.9.5. Dealing with Problems Compiling MySQL .................................................................  147
2.9.6. MySQL Configuration and Third-Party Tools .............................................................  148
2.10. Postinstallation Setup and Testing  .....................................................................................  148
2.10.1. Unix Postinstallation Procedures  ............................................................................. 149
2.10.2. Securing the Initial MySQL Accounts  ......................................................................  160
2.11. Upgrading or Downgrading MySQL  ...................................................................................  163
2.11.1. Upgrading MySQL  .................................................................................................  163
2.11.2. Downgrading MySQL  .............................................................................................  170
2.11.3. Checking Whether Tables or Indexes Must Be Rebuilt .............................................  171
2.11.4. Rebuilding or Repairing Tables or Indexes ..............................................................  173
2.11.5. Copying MySQL Databases to Another Machine .....................................................  175
2.12. Environment Variables  ......................................................................................................  176
2.13. Perl Installation Notes  .......................................................................................................  177

## 第三章
3.1. Connecting to and Disconnecting from the Server ................................................................  181
3.2. Entering Queries  ................................................................................................................  182
3.3. Creating and Using a Database  ..........................................................................................  185
3.3.1. Creating and Selecting a Database  ..........................................................................  186
3.3.2. Creating a Table  ...................................................................................................... 187
3.3.3. Loading Data into a Table  ........................................................................................ 188
3.3.4. Retrieving Information from a Table  ..........................................................................  189
3.4. Getting Information About Databases and Tables ................................................................. 201
3.5. Using mysql in Batch Mode  ...............................................................................................  202
3.6. Examples of Common Queries  ...........................................................................................  203
3.6.1. The Maximum Value for a Column  ...........................................................................  204
3.6.2. The Row Holding the Maximum of a Certain Column .................................................  204
3.6.3. Maximum of Column per Group  ...............................................................................  205
3.6.4. The Rows Holding the Group-wise Maximum of a Certain Column .............................. 205
3.6.5. Using User-Defined Variables  ................................................................................... 206
3.6.6. Using Foreign Keys  .................................................................................................  206
3.6.7. Searching on Two Keys  ...........................................................................................  207
3.6.8. Calculating Visits Per Day  ........................................................................................  208
3.6.9. Using AUTO_INCREMENT  .........................................................................................  208
3.7. Using MySQL with Apache  .................................................................................................  210

## 第四章
4.1. Overview of MySQL Programs  ............................................................................................  214
4.2. Using MySQL Programs  .....................................................................................................  218
4.2.1. Invoking MySQL Programs  ....................................................................................... 218
4.2.2. Connecting to the MySQL Server  .............................................................................  219
4.2.3. Specifying Program Options  .....................................................................................  222
4.2.4. Setting Environment Variables  .................................................................................. 234
4.3. MySQL Server and Server-Startup Programs ....................................................................... 235
4.3.1. mysqld ― The MySQL Server  ................................................................................  235
4.3.2. mysqld_safe ― MySQL Server Startup Script ........................................................  235
4.3.3. mysql.server ― MySQL Server Startup Script ......................................................  240
4.3.4. mysqld_multi ― Manage Multiple MySQL Servers ................................................  241
4.4. MySQL Installation-Related Programs  .................................................................................  245
4.4.1. comp_err ― Compile MySQL Error Message File .................................................... 245
4.4.2. mysqlbug ― Generate Bug Report  .........................................................................  246
4.4.3. mysql_install_db ― Initialize MySQL Data Directory ...........................................  246
4.4.4. mysql_plugin ― Configure MySQL Server Plugins ................................................  248
4.4.5. mysql_secure_installation ― Improve MySQL Installation Security ..................  251
4.4.6. mysql_tzinfo_to_sql ― Load the Time Zone Tables ..........................................  251
4.4.7. mysql_upgrade ― Check and Upgrade MySQL Tables ..........................................  251
4.5. MySQL Client Programs  .....................................................................................................  255
4.5.1. mysql ― The MySQL Command-Line Tool ..............................................................  255
4.5.2. mysqladmin ― Client for Administering a MySQL Server .........................................  277
4.5.3. mysqlcheck ― A Table Maintenance Program ........................................................  284
4.5.4. mysqldump ― A Database Backup Program ............................................................  290
4.5.5. mysqlimport ― A Data Import Program ................................................................. 308
4.5.6. mysqlshow ― Display Database, Table, and Column Information .............................. 313
4.5.7. mysqlslap ― Load Emulation Client  ......................................................................  317
4.6. MySQL Administrative and Utility Programs .........................................................................  324
4.6.1. innochecksum ― Offline InnoDB File Checksum Utility ...........................................  324
4.6.2. myisam_ftdump ― Display Full-Text Index information ............................................  325
4.6.3. myisamchk ― MyISAM Table-Maintenance Utility ....................................................  326
4.6.4. myisamlog ― Display MyISAM Log File Contents ...................................................  342
4.6.5. myisampack ― Generate Compressed, Read-Only MyISAM Tables .......................... 343
4.6.6. mysql_config_editor ― MySQL Configuration Utility ..........................................  348
4.6.7. mysqlaccess ― Client for Checking Access Privileges ............................................  354
4.6.8. mysqlbinlog ― Utility for Processing Binary Log Files ............................................  356
4.6.9. mysqldumpslow ― Summarize Slow Query Log Files .............................................. 375
4.6.10. mysqlhotcopy ― A Database Backup Program ....................................................  376
4.6.11. mysql_convert_table_format ― Convert Tables to Use a Given Storage
Engine  ..............................................................................................................................  379
4.6.12. mysql_find_rows ― Extract SQL Statements from Files ......................................  380
4.6.13. mysql_fix_extensions ― Normalize Table File Name Extensions ......................  381
4.6.14. mysql_setpermission ― Interactively Set Permissions in Grant Tables ...............  381
4.6.15. mysql_waitpid ― Kill Process and Wait for Its Termination ..................................  382
4.6.16. mysql_zap ― Kill Processes That Match a Pattern ................................................  382
4.7. MySQL Program Development Utilities  ................................................................................  383
4.7.1. msql2mysql ― Convert mSQL Programs for Use with MySQL .................................  383
4.7.2. mysql_config ― Display Options for Compiling Clients ..........................................  384
4.7.3. my_print_defaults ― Display Options from Option Files ...................................... 385
4.7.4. resolve_stack_dump ― Resolve Numeric Stack Trace Dump to Symbols ..............  386
4.8. Miscellaneous Programs  .....................................................................................................  386
4.8.1. perror ― Explain Error Codes  ...............................................................................  386
4.8.2. replace ― A String-Replacement Utility .................................................................  387
4.8.3. resolveip ― Resolve Host name to IP Address or Vice Versa ................................  388

## 第五章
5.1. The MySQL Server  ............................................................................................................  390
5.1.1. Server Option and Variable Reference ...................................................................... 390
5.1.2. Server Configuration Defaults  ...................................................................................  424
5.1.3. Server Command Options  ........................................................................................  426
5.1.4. Server System Variables  ..........................................................................................  461
5.1.5. Using System Variables  ...........................................................................................  577
5.1.6. Server Status Variables  ...........................................................................................  590
5.1.7. Server SQL Modes  ..................................................................................................  617
5.1.8. Server Plugins  .........................................................................................................  625
5.1.9. IPv6 Support  ...........................................................................................................  629
5.1.10. Server-Side Help  ...................................................................................................  633
5.1.11. Server Response to Signals  ...................................................................................  633
5.1.12. The Shutdown Process  ..........................................................................................  634
5.2. MySQL Server Logs  ...........................................................................................................  635
5.2.1. Selecting General Query and Slow Query Log Output Destinations ............................. 636
5.2.2. The Error Log  .......................................................................................................... 638
5.2.3. The General Query Log  ...........................................................................................  639
5.2.4. The Binary Log  ........................................................................................................ 640
5.2.5. The Slow Query Log  ................................................................................................ 651
5.2.6. Server Log Maintenance  ..........................................................................................  653
5.3. Managing Disk I/O and File Space for InnoDB Tables .........................................................  654
5.3.1. InnoDB Disk I/O  .....................................................................................................  654
5.3.2. File Space Management  ..........................................................................................  655
5.3.3. InnoDB Checkpoints  ...............................................................................................  656
5.3.4. Defragmenting a Table  ............................................................................................  656
5.4. Creating and Using InnoDB Tables and Indexes .................................................................  657
5.4.1. Managing InnoDB Tablespaces  ................................................................................  658
5.4.2. Grouping DML Operations with Transactions ............................................................  665
5.4.3. Converting Tables from MyISAM to InnoDB ..............................................................  666
5.4.4. AUTO_INCREMENT Handling in InnoDB ....................................................................  670
5.4.5. InnoDB and FOREIGN KEY Constraints ...................................................................  675
5.4.6. Working with InnoDB Compressed Tables ...............................................................  676
5.4.7. InnoDB File-Format Management  ............................................................................  687
5.4.8. How InnoDB Stores Variable-Length Columns .......................................................... 693
5.5. Online DDL for InnoDB Tables  ...........................................................................................  694
5.5.1. Overview of Online DDL  ..........................................................................................  695
5.5.2. Performance and Concurrency Considerations for Online DDL ...................................  700
5.5.3. SQL Syntax for Online DDL  .....................................................................................  702
5.5.4. Combining or Separating DDL Statements ................................................................  703
5.5.5. Examples of Online DDL  .......................................................................................... 703
5.5.6. Implementation Details of Online DDL  ......................................................................  723
5.5.7. How Crash Recovery Works with Online DDL ...........................................................  724
5.5.8. DDL for Partitioned Tables  .......................................................................................  725
5.5.9. Limitations of Online DDL  ........................................................................................  725
5.6. Running Multiple MySQL Instances on One Machine ...........................................................  726
5.6.1. Setting Up Multiple Data Directories  .........................................................................  727
5.6.2. Running Multiple MySQL Instances on Windows .......................................................  728
5.6.3. Running Multiple MySQL Instances on Unix ..............................................................  731
5.6.4. Using Client Programs in a Multiple-Server Environment ............................................ 732
5.7. Tracing mysqld Using DTrace  ............................................................................................ 732
5.7.1. mysqld DTrace Probe Reference  ............................................................................  734

## 第六章
6.1. General Security Issues  ......................................................................................................  752
6.1.1. Security Guidelines  ..................................................................................................  752
6.1.2. Keeping Passwords Secure  .....................................................................................  753
6.1.3. Making MySQL Secure Against Attackers .................................................................  766
6.1.4. Security-Related mysqld Options and Variables .......................................................  768
6.1.5. How to Run MySQL as a Normal User .....................................................................  768
6.1.6. Security Issues with LOAD DATA LOCAL .................................................................  769
6.1.7. Client Programming Security Guidelines ...................................................................  770
6.2. The MySQL Access Privilege System  .................................................................................. 771
6.2.1. Privileges Provided by MySQL  .................................................................................  772
6.2.2. Privilege System Grant Tables  .................................................................................  776
6.2.3. Specifying Account Names  ....................................................................................... 782
6.2.4. Access Control, Stage 1: Connection Verification ......................................................  783
6.2.5. Access Control, Stage 2: Request Verification ........................................................... 786
6.2.6. When Privilege Changes Take Effect  ........................................................................ 788
6.2.7. Causes of Access-Denied Errors  ..............................................................................  788
6.3. MySQL User Account Management  ..................................................................................... 793
6.3.1. User Names and Passwords  ....................................................................................  793
6.3.2. Adding User Accounts  .............................................................................................  794
6.3.3. Removing User Accounts  .........................................................................................  798
6.3.4. Setting Account Resource Limits  ..............................................................................  798
6.3.5. Assigning Account Passwords  ..................................................................................  800
6.3.6. Password Expiration and Sandbox Mode ..................................................................  801
6.3.7. Pluggable Authentication  ..........................................................................................  804
6.3.8. Proxy Users  ............................................................................................................  824
6.3.9. Using SSL for Secure Connections  ..........................................................................  827
6.3.10. Connecting to MySQL Remotely from Windows with SSH ........................................  838
6.3.11. MySQL Enterprise Audit Log Plugin  ........................................................................  838
6.3.12. SQL-Based MySQL Account Activity Auditing ..........................................................  849

## 第七章
7.1. Backup and Recovery Types  ..............................................................................................  852
7.2. Database Backup Methods  .................................................................................................  855
7.3. Example Backup and Recovery Strategy  .............................................................................  857
7.3.1. Establishing a Backup Policy  .................................................................................... 858
7.3.2. Using Backups for Recovery  ....................................................................................  859
7.3.3. Backup Strategy Summary  .......................................................................................  860
7.4. Using mysqldump for Backups  ...........................................................................................  860
7.4.1. Dumping Data in SQL Format with mysqldump ........................................................  861
7.4.2. Reloading SQL-Format Backups  ..............................................................................  861
7.4.3. Dumping Data in Delimited-Text Format with mysqldump ..........................................  862
7.4.4. Reloading Delimited-Text Format Backups ................................................................  863
7.4.5. mysqldump Tips  .....................................................................................................  864
7.5. Point-in-Time (Incremental) Recovery Using the Binary Log ..................................................  865
7.5.1. Point-in-Time Recovery Using Event Times ..............................................................  867
7.5.2. Point-in-Time Recovery Using Event Positions ..........................................................  867
7.6. MyISAM Table Maintenance and Crash Recovery ................................................................  868
7.6.1. Using myisamchk for Crash Recovery .....................................................................  868
7.6.2. How to Check MyISAM Tables for Errors ..................................................................  869
7.6.3. How to Repair MyISAM Tables  .................................................................................  870
7.6.4. MyISAM Table Optimization  ......................................................................................  872
7.6.5. Setting Up a MyISAM Table Maintenance Schedule ...................................................  873

## 第八章
8.1. Optimization Overview  ........................................................................................................  876
8.2. Optimizing SQL Statements  ................................................................................................  878
8.2.1. Optimizing SELECT Statements  ................................................................................  878
8.2.2. Optimizing DML Statements  .....................................................................................  882
8.2.3. Optimizing Database Privileges  ................................................................................  883
8.2.4. Optimizing INFORMATION_SCHEMA Queries .............................................................  884
8.2.5. Other Optimization Tips  ...........................................................................................  888
8.3. Optimization and Indexes  ...................................................................................................  891
8.3.1. How MySQL Uses Indexes  ......................................................................................  891
8.3.2. Using Primary Keys  .................................................................................................  892
8.3.3. Using Foreign Keys  .................................................................................................  892
8.3.4. Column Indexes  ......................................................................................................  892
8.3.5. Multiple-Column Indexes  ..........................................................................................  893
8.3.6. Verifying Index Usage  ..............................................................................................  895
8.3.7. InnoDB and MyISAM Index Statistics Collection ........................................................  895
8.3.8. Comparison of B-Tree and Hash Indexes .................................................................  896
8.4. Optimizing Database Structure  ............................................................................................  897
8.4.1. Optimizing Data Size  ...............................................................................................  898
8.4.2. Optimizing MySQL Data Types  ................................................................................  899
8.4.3. Optimizing for Many Tables  ...................................................................................... 901
8.5. Optimizing for InnoDB Tables  ............................................................................................  903
8.5.1. Optimizing Storage Layout for InnoDB Tables ..........................................................  903
8.5.2. Optimizing InnoDB Transaction Management ...........................................................  904
8.5.3. Optimizing InnoDB Logging  .....................................................................................  905
8.5.4. Bulk Data Loading for InnoDB Tables  ......................................................................  905
8.5.5. Optimizing InnoDB Queries  .....................................................................................  906
8.5.6. Optimizing InnoDB DDL Operations  .........................................................................  907
8.5.7. Optimizing InnoDB Disk I/O  .....................................................................................  907
8.5.8. Optimizing InnoDB Configuration Variables ..............................................................  908
8.5.9. Optimizing InnoDB for Systems with Many Tables ....................................................  910
8.6. Optimizing for MyISAM Tables  ............................................................................................  910
8.6.1. Optimizing MyISAM Queries  .....................................................................................  910
8.6.2. Bulk Data Loading for MyISAM Tables  ......................................................................  911
8.6.3. Speed of REPAIR TABLE Statements  ......................................................................  913
8.7. Optimizing for MEMORY Tables  ............................................................................................  914
8.8. Understanding the Query Execution Plan  ............................................................................  914
8.8.1. Optimizing Queries with EXPLAIN  ............................................................................  914
8.8.2. EXPLAIN Output Format  ..........................................................................................  915
8.8.3. EXPLAIN EXTENDED Output Format  ........................................................................ 926
8.8.4. Estimating Query Performance  .................................................................................  928
8.8.5. Controlling the Query Optimizer  ................................................................................ 929
8.9. Buffering and Caching  ........................................................................................................  932
8.9.1. The InnoDB Buffer Pool  ..........................................................................................  932
8.9.2. The MyISAM Key Cache  ..........................................................................................  935
8.9.3. The MySQL Query Cache  ........................................................................................  939
8.9.4. Caching of Prepared Statements and Stored Programs .............................................  945
8.10. Optimizing Locking Operations  ..........................................................................................  946
8.10.1. Internal Locking Methods  .......................................................................................  946
8.10.2. Table Locking Issues  .............................................................................................  948
8.10.3. Concurrent Inserts  .................................................................................................  949
8.10.4. Metadata Locking  ..................................................................................................  950
8.10.5. External Locking  ....................................................................................................  951
8.11. Optimizing the MySQL Server  ...........................................................................................  952
8.11.1. System Factors and Startup Parameter Tuning .......................................................  952
8.11.2. Tuning Server Parameters  .....................................................................................  952
8.11.3. Optimizing Disk I/O  ................................................................................................  960
8.11.4. Optimizing Memory Use  .........................................................................................  964
8.11.5. Optimizing Network Use  .........................................................................................  967
8.11.6. The Thread Pool Plugin  .........................................................................................  969
8.12. Measuring Performance (Benchmarking)  ...........................................................................  975
8.12.1. Measuring the Speed of Expressions and Functions ................................................  975
8.12.2. The MySQL Benchmark Suite  ................................................................................  976
8.12.3. Using Your Own Benchmarks  ................................................................................. 976
8.12.4. Measuring Performance with performance_schema .............................................  977
8.12.5. Examining Thread Information  ................................................................................  977
8.13. Internal Details of MySQL Optimizations  ............................................................................  991
8.13.1. Range Optimization  ...............................................................................................  991
8.13.2. Index Merge Optimization  ....................................................................................... 995
8.13.3. Engine Condition Pushdown Optimization ...............................................................  997
8.13.4. Index Condition Pushdown Optimization .................................................................  998
8.13.5. Use of Index Extensions  ........................................................................................  999
8.13.6. IS NULL Optimization  .........................................................................................  1002
8.13.7. LEFT JOIN and RIGHT JOIN Optimization .........................................................  1002
8.13.8. Nested-Loop Join Algorithms  ................................................................................  1003
8.13.9. Nested Join Optimization  ...................................................................................... 1005
8.13.10. Outer Join Simplification  .....................................................................................  1010
8.13.11. Multi-Range Read Optimization  ........................................................................... 1012
8.13.12. Block Nested-Loop and Batched Key Access Joins ..............................................  1014
8.13.13. ORDER BY Optimization  .....................................................................................  1016
8.13.14. GROUP BY Optimization  .....................................................................................  1019
8.13.15. DISTINCT Optimization  ......................................................................................  1021
8.13.16. Subquery Optimization  .......................................................................................  1022

## 第九章
9.1. Literal Values  ...................................................................................................................  1031
9.1.1. String Literals  ........................................................................................................  1031
9.1.2. Number Literals  .....................................................................................................  1033
9.1.3. Date and Time Literals  ........................................................................................... 1034
9.1.4. Hexadecimal Literals  ..............................................................................................  1036
9.1.5. Boolean Literals  .....................................................................................................  1036
9.1.6. Bit-Field Literals  .....................................................................................................  1037
9.1.7. NULL Values  .......................................................................................................... 1037
9.2. Schema Object Names  .....................................................................................................  1037
9.2.1. Identifier Qualifiers  .................................................................................................  1039
9.2.2. Identifier Case Sensitivity  .......................................................................................  1040
9.2.3. Mapping of Identifiers to File Names  ....................................................................... 1042
9.2.4. Function Name Parsing and Resolution ..................................................................  1044
9.3. Reserved Words  ............................................................................................................... 1047
9.4. User-Defined Variables  .....................................................................................................  1050
9.5. Expression Syntax  ............................................................................................................  1053
9.6. Comment Syntax  ..............................................................................................................  1054

## 第十章
10.1. Character Set Support  ....................................................................................................  1057
10.1.1. Character Sets and Collations in General ..............................................................  1058
10.1.2. Character Sets and Collations in MySQL ..............................................................  1059
10.1.3. Specifying Character Sets and Collations ..............................................................  1060
10.1.4. Connection Character Sets and Collations ............................................................  1066
10.1.5. Configuring the Character Set and Collation for Applications ..................................  1069
10.1.6. Character Set for Error Messages  ......................................................................... 1070
10.1.7. Collation Issues  ...................................................................................................  1071
10.1.8. String Repertoire  ..................................................................................................  1080
10.1.9. Operations Affected by Character Set Support ......................................................  1081
10.1.10. Unicode Support  ................................................................................................  1084
10.1.11. Upgrading from Previous to Current Unicode Support ..........................................  1088
10.1.12. UTF-8 for Metadata  ............................................................................................  1090
10.1.13. Column Character Set Conversion  ......................................................................  1091
10.1.14. Character Sets and Collations That MySQL Supports ........................................... 1092
10.2. Setting the Error Message Language  ............................................................................... 1105
10.3. Adding a Character Set  ..................................................................................................  1106
10.3.1. Character Definition Arrays  ...................................................................................  1108
10.3.2. String Collating Support for Complex Character Sets .............................................  1109
10.3.3. Multi-Byte Character Support for Complex Character Sets ......................................  1109
10.4. Adding a Collation to a Character Set  .............................................................................. 1109
10.4.1. Collation Implementation Types  ............................................................................  1110
10.4.2. Choosing a Collation ID  .......................................................................................  1113
10.4.3. Adding a Simple Collation to an 8-Bit Character Set ..............................................  1114
10.4.4. Adding a UCA Collation to a Unicode Character Set ..............................................  1115
10.5. Character Set Configuration  ............................................................................................  1121
10.6. MySQL Server Time Zone Support  ..................................................................................  1122
10.6.1. Staying Current with Time Zone Changes .............................................................  1124
10.6.2. Time Zone Leap Second Support  .........................................................................  1125
10.7. MySQL Server Locale Support  ........................................................................................  1127

## 第十一章
11.1. Data Type Overview  .......................................................................................................  1132
11.1.1. Numeric Type Overview  .......................................................................................  1132
11.1.2. Date and Time Type Overview  .............................................................................  1135
11.1.3. String Type Overview  ...........................................................................................  1137
11.2. Numeric Types  ...............................................................................................................  1140
11.2.1. Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT,
BIGINT  ........................................................................................................................... 1141
11.2.2. Fixed-Point Types (Exact Value) - DECIMAL, NUMERIC ..........................................  1141
11.2.3. Floating-Point Types (Approximate Value) - FLOAT, DOUBLE ..................................  1142
11.2.4. Bit-Value Type - BIT  ...........................................................................................  1142
11.2.5. Numeric Type Attributes  .......................................................................................  1142
11.2.6. Out-of-Range and Overflow Handling ....................................................................  1143
11.3. Date and Time Types  .....................................................................................................  1144
11.3.1. The DATE, DATETIME, and TIMESTAMP Types ...................................................... 1146
11.3.2. The TIME Type  .................................................................................................... 1147
11.3.3. The YEAR Type  .................................................................................................... 1148
11.3.4. YEAR(2) Limitations and Migrating to YEAR(4) ....................................................  1148
11.3.5. Automatic Initialization and Updating for TIMESTAMP and DATETIME ......................  1151
11.3.6. Fractional Seconds in Time Values  .......................................................................  1154
11.3.7. Conversion Between Date and Time Types ...........................................................  1155
11.3.8. Two-Digit Years in Dates  ...................................................................................... 1157
11.4. String Types  ...................................................................................................................  1157
11.4.1. The CHAR and VARCHAR Types  ............................................................................  1157
11.4.2. The BINARY and VARBINARY Types ....................................................................  1159
11.4.3. The BLOB and TEXT Types  ..................................................................................  1160
11.4.4. The ENUM Type  .................................................................................................... 1161
11.4.5. The SET Type  ...................................................................................................... 1164
11.5. Data Type Default Values  ...............................................................................................  1166
11.6. Data Type Storage Requirements  .................................................................................... 1167
11.7. Choosing the Right Type for a Column  ............................................................................  1171
11.8. Using Data Types from Other Database Engines .............................................................  1171

## 第十二章
12.1. Function and Operator Reference  .................................................................................... 1174
12.2. Type Conversion in Expression Evaluation ....................................................................... 1181
12.3. Operators  .......................................................................................................................  1184
12.3.1. Operator Precedence  ...........................................................................................  1185
12.3.2. Comparison Functions and Operators ...................................................................  1185
12.3.3. Logical Operators  ................................................................................................. 1191
12.3.4. Assignment Operators  ..........................................................................................  1192
12.4. Control Flow Functions  ...................................................................................................  1193
12.5. String Functions  .............................................................................................................. 1195
12.5.1. String Comparison Functions  ................................................................................  1210
12.5.2. Regular Expressions  ............................................................................................  1213
12.6. Numeric Functions and Operators  ...................................................................................  1218
12.6.1. Arithmetic Operators  ............................................................................................  1219
12.6.2. Mathematical Functions  ........................................................................................  1221
12.7. Date and Time Functions  ................................................................................................  1229
12.8. What Calendar Is Used By MySQL?  ................................................................................ 1249
12.9. Full-Text Search Functions  .............................................................................................. 1249
12.9.1. Natural Language Full-Text Searches ...................................................................  1251
12.9.2. Boolean Full-Text Searches  .................................................................................. 1254
12.9.3. Full-Text Searches with Query Expansion .............................................................  1256
12.9.4. Full-Text Stopwords  .............................................................................................  1257
12.9.5. Full-Text Restrictions  ............................................................................................ 1260
12.9.6. Fine-Tuning MySQL Full-Text Search ...................................................................  1261
12.9.7. Adding a Collation for Full-Text Indexing ...............................................................  1263
12.10. Cast Functions and Operators  .......................................................................................  1264
12.11. XML Functions  .............................................................................................................. 1267
12.12. Bit Functions  ................................................................................................................  1277
12.13. Encryption and Compression Functions .........................................................................  1279
12.14. Information Functions  ....................................................................................................  1286
12.15. GTID Functions  ............................................................................................................  1294
12.16. Miscellaneous Functions  ...............................................................................................  1295
12.17. Functions and Modifiers for Use with GROUP BY Clauses ...............................................  1302
12.17.1. GROUP BY (Aggregate) Functions  ....................................................................... 1302
12.17.2. GROUP BY Modifiers  ..........................................................................................  1306
12.17.3. MySQL Extensions to GROUP BY  .......................................................................  1309
12.18. Spatial Extensions  ........................................................................................................  1310
12.18.1. Introduction to MySQL Spatial Support ................................................................  1310
12.18.2. The OpenGIS Geometry Model  ........................................................................... 1311
12.18.3. Supported Spatial Data Formats  .........................................................................  1317
12.18.4. Creating a Spatially Enabled MySQL Database ...................................................  1318
12.18.5. Spatial Analysis Functions  ..................................................................................  1323
12.18.6. Optimizing Spatial Analysis  .................................................................................  1333
12.18.7. MySQL Conformance and Compatibility ..............................................................  1336
12.19. Precision Math  ..............................................................................................................  1337
12.19.1. Types of Numeric Values  ...................................................................................  1337
12.19.2. DECIMAL Data Type Changes  ............................................................................  1337
12.19.3. Expression Handling  ........................................................................................... 1339
12.19.4. Rounding Behavior  .............................................................................................  1340
12.19.5. Precision Math Examples  ...................................................................................  1341

## 第十三章
13.1. Data Definition Statements  ..............................................................................................  1346
13.1.1. ALTER DATABASE Syntax  ...................................................................................  1346
13.1.2. ALTER EVENT Syntax  .........................................................................................  1347
13.1.3. ALTER LOGFILE GROUP Syntax  .........................................................................  1349
13.1.4. ALTER FUNCTION Syntax  ...................................................................................  1350
13.1.5. ALTER PROCEDURE Syntax  .................................................................................  1350
13.1.6. ALTER SERVER Syntax  .......................................................................................  1350
13.1.7. ALTER TABLE Syntax  .........................................................................................  1351
13.1.8. ALTER TABLESPACE Syntax  ...............................................................................  1370
13.1.9. ALTER VIEW Syntax  ...........................................................................................  1371
13.1.10. CREATE DATABASE Syntax  ...............................................................................  1371
13.1.11. CREATE EVENT Syntax  .....................................................................................  1371
13.1.12. CREATE FUNCTION Syntax  ...............................................................................  1376
13.1.13. CREATE INDEX Syntax  .....................................................................................  1376
13.1.14. CREATE LOGFILE GROUP Syntax .....................................................................  1379
13.1.15. CREATE PROCEDURE and CREATE FUNCTION Syntax ........................................  1381
13.1.16. CREATE SERVER Syntax  ...................................................................................  1386
13.1.17. CREATE TABLE Syntax  .....................................................................................  1387
13.1.18. CREATE TABLESPACE Syntax  ............................................................................ 1414
13.1.19. CREATE TRIGGER Syntax  .................................................................................  1416
13.1.20. CREATE VIEW Syntax  .......................................................................................  1418
13.1.21. DROP DATABASE Syntax  ...................................................................................  1422
13.1.22. DROP EVENT Syntax  .........................................................................................  1423
13.1.23. DROP FUNCTION Syntax  ...................................................................................  1423
13.1.24. DROP INDEX Syntax  .........................................................................................  1423
13.1.25. DROP LOGFILE GROUP Syntax  .........................................................................  1424
13.1.26. DROP PROCEDURE and DROP FUNCTION Syntax ................................................  1424
13.1.27. DROP SERVER Syntax  .......................................................................................  1424
13.1.28. DROP TABLE Syntax  .........................................................................................  1425
13.1.29. DROP TABLESPACE Syntax  ...............................................................................  1425
13.1.30. DROP TRIGGER Syntax  .....................................................................................  1426
13.1.31. DROP VIEW Syntax  ...........................................................................................  1426
13.1.32. RENAME TABLE Syntax  .....................................................................................  1426
13.1.33. TRUNCATE TABLE Syntax  .................................................................................  1427
13.2. Data Manipulation Statements  .........................................................................................  1428
13.2.1. CALL Syntax  ........................................................................................................  1428
13.2.2. DELETE Syntax  ....................................................................................................  1430
13.2.3. DO Syntax  ............................................................................................................  1434
13.2.4. HANDLER Syntax  ..................................................................................................  1434
13.2.5. INSERT Syntax  ....................................................................................................  1435
13.2.6. LOAD DATA INFILE Syntax  ...............................................................................  1444
13.2.7. LOAD XML Syntax  ...............................................................................................  1452
13.2.8. REPLACE Syntax  ..................................................................................................  1458
13.2.9. SELECT Syntax  ....................................................................................................  1459
13.2.10. Subquery Syntax  ................................................................................................ 1477
13.2.11. UPDATE Syntax  ..................................................................................................  1488
13.3. MySQL Transactional and Locking Statements ................................................................. 1490
13.3.1. START TRANSACTION, COMMIT, and ROLLBACK Syntax .......................................  1490
13.3.2. Statements That Cannot Be Rolled Back ..............................................................  1493
13.3.3. Statements That Cause an Implicit Commit ...........................................................  1493
13.3.4. SAVEPOINT, ROLLBACK TO SAVEPOINT, and RELEASE SAVEPOINT Syntax ........  1494
13.3.5. LOCK TABLES and UNLOCK TABLES Syntax .......................................................  1495
13.3.6. SET TRANSACTION Syntax  .................................................................................  1500
13.3.7. XA Transactions  ..................................................................................................  1503
13.4. Replication Statements  ...................................................................................................  1506
13.4.1. SQL Statements for Controlling Master Servers .....................................................  1506
13.4.2. SQL Statements for Controlling Slave Servers .......................................................  1508
13.5. SQL Syntax for Prepared Statements  ..............................................................................  1518
13.5.1. PREPARE Syntax  ..................................................................................................  1521
13.5.2. EXECUTE Syntax  ..................................................................................................  1522
13.5.3. DEALLOCATE PREPARE Syntax  ...........................................................................  1522
13.6. MySQL Compound-Statement Syntax  ..............................................................................  1522
13.6.1. BEGIN ... END Compound-Statement Syntax ....................................................  1523
13.6.2. Statement Label Syntax  .......................................................................................  1523
13.6.3. DECLARE Syntax  ..................................................................................................  1524
13.6.4. Variables in Stored Programs  ...............................................................................  1524
13.6.5. Flow Control Statements  ......................................................................................  1526
13.6.6. Cursors  ...............................................................................................................  1530
13.6.7. Condition Handling  ...............................................................................................  1531
13.7. Database Administration Statements  ...............................................................................  1553
13.7.1. Account Management Statements  ......................................................................... 1553
13.7.2. Table Maintenance Statements  ............................................................................. 1568
13.7.3. Plugin and User-Defined Function Statements .......................................................  1576
13.7.4. SET Syntax  ..........................................................................................................  1579
13.7.5. SHOW Syntax  ........................................................................................................  1582
13.7.6. Other Administrative Statements  ...........................................................................  1622
13.8. MySQL Utility Statements  ...............................................................................................  1630
13.8.1. DESCRIBE Syntax  ................................................................................................  1630
13.8.2. EXPLAIN Syntax  ..................................................................................................  1630
13.8.3. HELP Syntax  ........................................................................................................  1632
13.8.4. USE Syntax  ..........................................................................................................  1633

## 第十四章
14.1. Setting the Storage Engine  .............................................................................................  1638
14.2. The InnoDB Storage Engine  ........................................................................................... 1639
14.2.1. Getting Started with InnoDB Tables .....................................................................  1640
14.2.2. Administering InnoDB  ..........................................................................................  1648
14.2.3. InnoDB Concepts and Architecture  ......................................................................  1657
14.2.4. InnoDB Performance Tuning and Troubleshooting ................................................  1680
14.2.5. InnoDB Features for Flexibility, Ease of Use and Reliability ...................................  1723
14.2.6. InnoDB Startup Options and System Variables .....................................................  1729
14.2.7. Limits on InnoDB Tables  .....................................................................................  1791
14.2.8. MySQL and the ACID Model  ................................................................................  1794
14.2.9. InnoDB Integration with memcached .....................................................................  1796
14.3. The MyISAM Storage Engine  ........................................................................................... 1823
14.3.1. MyISAM Startup Options  ....................................................................................... 1825
14.3.2. Space Needed for Keys  .......................................................................................  1827
14.3.3. MyISAM Table Storage Formats  ............................................................................ 1827
14.3.4. MyISAM Table Problems  ......................................................................................  1830
14.4. The MEMORY Storage Engine  ........................................................................................... 1831
14.5. The CSV Storage Engine  ................................................................................................. 1835
14.5.1. Repairing and Checking CSV Tables ....................................................................  1836
14.5.2. CSV Limitations  ...................................................................................................  1836
14.6. The ARCHIVE Storage Engine  ......................................................................................... 1837
14.7. The BLACKHOLE Storage Engine  .....................................................................................  1838
14.8. The MERGE Storage Engine  ............................................................................................. 1840
14.8.1. MERGE Table Advantages and Disadvantages .......................................................  1842
14.8.2. MERGE Table Problems  ........................................................................................  1843
14.9. The FEDERATED Storage Engine  .....................................................................................  1845
14.9.1. FEDERATED Storage Engine Overview ..................................................................  1845
14.9.2. How to Create FEDERATED Tables  .......................................................................  1846
14.9.3. FEDERATED Storage Engine Notes and Tips .........................................................  1849
14.9.4. FEDERATED Storage Engine Resources ................................................................  1850
14.10. The EXAMPLE Storage Engine  .......................................................................................  1850
14.11. Other Storage Engines  .................................................................................................. 1851
14.12. Overview of MySQL Storage Engine Architecture ...........................................................  1851
14.12.1. Pluggable Storage Engine Architecture ...............................................................  1851
14.12.2. The Common Database Server Layer .................................................................  1852

## 第十五章
15.1. Oracle VM Template for MySQL Enterprise Edition ..........................................................  1857
15.2. Overview of MySQL with DRBD/Pacemaker/Corosync/Oracle Linux ..................................  1858
15.3. Overview of MySQL with Windows Failover Clustering ...................................................... 1860
15.4. Using MySQL within an Amazon EC2 Instance ................................................................  1862
15.4.1. Setting Up MySQL on an EC2 AMI  .......................................................................  1863
15.4.2. EC2 Instance Limitations  ......................................................................................  1864
15.4.3. Deploying a MySQL Database Using EC2 ............................................................. 1864
15.5. Using ZFS Replication  ....................................................................................................  1867
15.5.1. Using ZFS for File System Replication ..................................................................  1868
15.5.2. Configuring MySQL for ZFS Replication ................................................................  1869
15.5.3. Handling MySQL Recovery with ZFS ....................................................................  1870
15.6. Using MySQL with memcached  .......................................................................................  1870
15.6.1. Installing memcached  ...........................................................................................  1871
15.6.2. Using memcached  ...............................................................................................  1873
15.6.3. Developing a memcached Application ...................................................................  1891
15.6.4. Getting memcached Statistics  ...............................................................................  1914
15.6.5. memcached FAQ  .................................................................................................  1923
15.7. MySQL Proxy  .................................................................................................................  1925
15.7.1. MySQL Proxy Supported Platforms  .......................................................................  1926
15.7.2. Installing MySQL Proxy  ........................................................................................  1927
15.7.3. MySQL Proxy Command Options  .........................................................................  1929
15.7.4. MySQL Proxy Scripting  ........................................................................................  1938
15.7.5. Using MySQL Proxy  ............................................................................................. 1953
15.7.6. MySQL Proxy FAQ  ..............................................................................................  1958

## 第十六章
16.1. Replication Configuration  ................................................................................................  1966
16.1.1. How to Set Up Replication  ...................................................................................  1967
16.1.2. Replication Formats  .............................................................................................  1976
16.1.3. Replication with Global Transaction Identifiers .......................................................  1984
16.1.4. Replication and Binary Logging Options and Variables ...........................................  1991
16.1.5. Common Replication Administration Tasks ............................................................  2061
16.2. Replication Implementation  .............................................................................................. 2064
16.2.1. Replication Implementation Details  ........................................................................ 2064
16.2.2. Replication Relay and Status Logs  .......................................................................  2066
16.2.3. How Servers Evaluate Replication Filtering Rules ..................................................  2071
16.3. Replication Solutions  ....................................................................................................... 2078
16.3.1. Using Replication for Backups  ..............................................................................  2079
16.3.2. Using Replication with Different Master and Slave Storage Engines ........................  2082
16.3.3. Using Replication for Scale-Out  ............................................................................  2083
16.3.4. Replicating Different Databases to Different Slaves ................................................ 2084
16.3.5. Improving Replication Performance  .......................................................................  2085
16.3.6. Switching Masters During Failover  ........................................................................  2086
16.3.7. Setting Up Replication Using SSL  .........................................................................  2089
16.3.8. Semisynchronous Replication  ...............................................................................  2090
16.3.9. Delayed Replication  .............................................................................................  2095
16.4. Replication Notes and Tips  .............................................................................................  2095
16.4.1. Replication Features and Issues  ...........................................................................  2095
16.4.2. Replication Compatibility Between MySQL Versions ..............................................  2118
16.4.3. Upgrading a Replication Setup  .............................................................................  2119
16.4.4. Troubleshooting Replication  ..................................................................................  2121
16.4.5. How to Report Replication Bugs or Problems ........................................................  2122

## 第十七章
17.1. MySQL Cluster Overview  ................................................................................................  2126
17.1.1. MySQL Cluster Core Concepts  .............................................................................  2128
17.1.2. MySQL Cluster Nodes, Node Groups, Replicas, and Partitions ...............................  2130
17.1.3. MySQL Cluster Hardware, Software, and Networking Requirements .......................  2133
17.1.4. MySQL Cluster Development History ....................................................................  2134
17.1.5. MySQL Server Using InnoDB Compared with MySQL Cluster ................................ 2135
17.1.6. Known Limitations of MySQL Cluster ....................................................................  2138
17.2. MySQL Cluster Installation  ..............................................................................................  2147
17.2.1. The MySQL Cluster Auto-Installer  .........................................................................  2149
17.2.2. Installation of MySQL Cluster on Linux .................................................................. 2164
17.2.3. Installing MySQL Cluster on Windows ...................................................................  2169
17.2.4. Initial Configuration of MySQL Cluster ...................................................................  2178
17.2.5. Initial Startup of MySQL Cluster  ............................................................................ 2179
17.2.6. MySQL Cluster Example with Tables and Data ...................................................... 2180
17.2.7. Safe Shutdown and Restart of MySQL Cluster ......................................................  2184
17.2.8. Upgrading and Downgrading MySQL Cluster NDB 7.3 ...........................................  2184
17.3. Configuration of MySQL Cluster NDB 7.3 ........................................................................  2185
17.3.1. Quick Test Setup of MySQL Cluster .....................................................................  2185
17.3.2. MySQL Cluster Configuration Files  .......................................................................  2187
17.3.3. Overview of MySQL Cluster Configuration Parameters ...........................................  2260
17.3.4. MySQL Server Options and Variables for MySQL Cluster ....................................... 2281
17.3.5. Using High-Speed Interconnects with MySQL Cluster ............................................  2326
17.4. MySQL Cluster Programs  ...............................................................................................  2328
17.4.1. ndbd ― The MySQL Cluster Data Node Daemon .................................................  2328
17.4.2. ndbinfo_select_all ― Select From ndbinfo Tables .........................................  2334
17.4.3. ndbmtd ― The MySQL Cluster Data Node Daemon (Multi-Threaded) ..................... 2336
17.4.4. ndb_mgmd ― The MySQL Cluster Management Server Daemon ............................  2337
17.4.5. ndb_mgm ― The MySQL Cluster Management Client ............................................  2345
17.4.6. ndb_blob_tool ― Check and Repair BLOB and TEXT columns of MySQL Cluster
Tables  ............................................................................................................................. 2346
17.4.7. ndb_config ― Extract MySQL Cluster Configuration Information .......................... 2349
17.4.8. ndb_cpcd ― Automate Testing for NDB Development ..........................................  2356
17.4.9. ndb_delete_all ― Delete All Rows from an NDB Table ....................................  2356
17.4.10. ndb_desc ― Describe NDB Tables ...................................................................  2357
17.4.11. ndb_drop_index ― Drop Index from an NDB Table ..........................................  2361
17.4.12. ndb_drop_table ― Drop an NDB Table ..........................................................  2362
17.4.13. ndb_error_reporter ― NDB Error-Reporting Utility ........................................  2363
17.4.14. ndb_index_stat ― NDB Index Statistics Utility ................................................  2363
17.4.15. ndb_print_backup_file ― Print NDB Backup File Contents ........................... 2368
17.4.16. ndb_print_schema_file ― Print NDB Schema File Contents .........................  2368
17.4.17. ndb_print_sys_file ― Print NDB System File Contents ................................  2369
17.4.18. ndbd_redo_log_reader ― Check and Print Content of Cluster Redo Log .........  2369
17.4.19. ndb_restore ― Restore a MySQL Cluster Backup ............................................ 2370
17.4.20. ndb_select_all ― Print Rows from an NDB Table ..........................................  2382
17.4.21. ndb_select_count ― Print Row Counts for NDB Tables ..................................  2385
17.4.22. ndb_setup.py ― Start browser-based Auto-Installer for MySQL Cluster .............  2385
17.4.23. ndb_show_tables ― Display List of NDB Tables ..............................................  2389
17.4.24. ndb_size.pl ― NDBCLUSTER Size Requirement Estimator .............................  2390
17.4.25. ndb_waiter ― Wait for MySQL Cluster to Reach a Given Status ........................  2393
17.4.26. Options Common to MySQL Cluster Programs ― Options Common to MySQL
Cluster Programs  ............................................................................................................  2395
17.5. Management of MySQL Cluster  ....................................................................................... 2398
17.5.1. Summary of MySQL Cluster Start Phases .............................................................  2399
17.5.2. Commands in the MySQL Cluster Management Client ...........................................  2401
17.5.3. Online Backup of MySQL Cluster  .........................................................................  2404
17.5.4. MySQL Server Usage for MySQL Cluster .............................................................. 2408
17.5.5. Performing a Rolling Restart of a MySQL Cluster ..................................................  2410
17.5.6. Event Reports Generated in MySQL Cluster .......................................................... 2412
17.5.7. MySQL Cluster Log Messages  .............................................................................  2421
17.5.8. MySQL Cluster Single User Mode  ........................................................................  2431
17.5.9. Quick Reference: MySQL Cluster SQL Statements ................................................  2432
17.5.10. The ndbinfo MySQL Cluster Information Database ............................................  2435
17.5.11. MySQL Cluster Security Issues  ........................................................................... 2454
17.5.12. MySQL Cluster Disk Data Tables  ........................................................................ 2460
17.5.13. Adding MySQL Cluster Data Nodes Online .......................................................... 2467
17.5.14. Distributed MySQL Privileges for MySQL Cluster .................................................  2477
17.5.15. NDB API Statistics Counters and Variables .........................................................  2479
17.6. MySQL Cluster Replication  .............................................................................................  2491
17.6.1. MySQL Cluster Replication: Abbreviations and Symbols ......................................... 2492
17.6.2. General Requirements for MySQL Cluster Replication ...........................................  2492
17.6.3. Known Issues in MySQL Cluster Replication .........................................................  2493
17.6.4. MySQL Cluster Replication Schema and Tables ....................................................  2500
17.6.5. Preparing the MySQL Cluster for Replication .........................................................  2503
17.6.6. Starting MySQL Cluster Replication (Single Replication Channel) ...........................  2504
17.6.7. Using Two Replication Channels for MySQL Cluster Replication .............................  2506
17.6.8. Implementing Failover with MySQL Cluster Replication ..........................................  2507
17.6.9. MySQL Cluster Backups With MySQL Cluster Replication ......................................  2508
17.6.10. MySQL Cluster Replication: Multi-Master and Circular Replication .........................  2514
17.6.11. MySQL Cluster Replication Conflict Resolution ....................................................  2519
17.7. MySQL Cluster Release Notes  ........................................................................................  2527

## 第十八章
18.1. Overview of Partitioning in MySQL  ..................................................................................  2531
18.2. Partitioning Types  ...........................................................................................................  2533
18.2.1. RANGE Partitioning  ...............................................................................................  2535
18.2.2. LIST Partitioning  .................................................................................................  2539
18.2.3. COLUMNS Partitioning  ...........................................................................................  2541
18.2.4. HASH Partitioning  .................................................................................................  2548
18.2.5. KEY Partitioning  ...................................................................................................  2551
18.2.6. Subpartitioning  .....................................................................................................  2553
18.2.7. How MySQL Partitioning Handles NULL ................................................................  2556
18.3. Partition Management  .....................................................................................................  2560
18.3.1. Management of RANGE and LIST Partitions ..........................................................  2561
18.3.2. Management of HASH and KEY Partitions ..............................................................  2567
18.3.3. Exchanging Partitions and Subpartitions with Tables ..............................................  2568
18.3.4. Maintenance of Partitions  .....................................................................................  2572
18.3.5. Obtaining Information About Partitions ..................................................................  2574
18.4. Partition Pruning  .............................................................................................................  2576
18.5. Partition Selection  ...........................................................................................................  2579
18.6. Restrictions and Limitations on Partitioning ......................................................................  2584
18.6.1. Partitioning Keys, Primary Keys, and Unique Keys ................................................. 2589
18.6.2. Partitioning Limitations Relating to Storage Engines ...............................................  2593
18.6.3. Partitioning Limitations Relating to Functions .........................................................  2594
18.6.4. Partitioning and Locking  .......................................................................................  2594

## 第十九章
19.1. Defining Stored Programs  ...............................................................................................  2598
19.2. Using Stored Routines (Procedures and Functions) ..........................................................  2599
19.2.1. Stored Routine Syntax  .........................................................................................  2599
19.2.2. Stored Routines and MySQL Privileges .................................................................  2600
19.2.3. Stored Routine Metadata  ...................................................................................... 2600
19.2.4. Stored Procedures, Functions, Triggers, and LAST_INSERT_ID() ......................... 2601
19.3. Using Triggers  ................................................................................................................  2601
19.3.1. Trigger Syntax and Examples  ...............................................................................  2602
19.3.2. Trigger Metadata  .................................................................................................. 2605
19.4. Using the Event Scheduler  ..............................................................................................  2605
19.4.1. Event Scheduler Overview  ...................................................................................  2606
19.4.2. Event Scheduler Configuration  .............................................................................. 2607
19.4.3. Event Syntax  .......................................................................................................  2609
19.4.4. Event Metadata  .................................................................................................... 2609
19.4.5. Event Scheduler Status  ........................................................................................  2610
19.4.6. The Event Scheduler and MySQL Privileges .........................................................  2610
19.5. Using Views  ...................................................................................................................  2613
19.5.1. View Syntax  ........................................................................................................  2613
19.5.2. View Processing Algorithms  .................................................................................  2614
19.5.3. Updatable and Insertable Views  ...........................................................................  2615
19.5.4. View Metadata  .....................................................................................................  2617
19.6. Access Control for Stored Programs and Views ...............................................................  2617
19.7. Binary Logging of Stored Programs  .................................................................................  2618

## 第二十章
20.1. The INFORMATION_SCHEMA CHARACTER_SETS Table .................................................... 2628
20.2. The INFORMATION_SCHEMA COLLATIONS Table ...........................................................  2628
20.3. The INFORMATION_SCHEMA COLLATION_CHARACTER_SET_APPLICABILITY Table ......  2629
20.4. The INFORMATION_SCHEMA COLUMNS Table .................................................................  2629
20.5. The INFORMATION_SCHEMA COLUMN_PRIVILEGES Table ..............................................  2630
20.6. The INFORMATION_SCHEMA ENGINES Table .................................................................  2631
20.7. The INFORMATION_SCHEMA EVENTS Table ...................................................................  2631
20.8. The INFORMATION_SCHEMA FILES Table .....................................................................  2635
20.9. The INFORMATION_SCHEMA GLOBAL_STATUS and SESSION_STATUS Tables .................  2636
20.10. The INFORMATION_SCHEMA GLOBAL_VARIABLES and SESSION_VARIABLES Tables ...  2636
20.11. The INFORMATION_SCHEMA KEY_COLUMN_USAGE Table ..............................................  2636
20.12. The INFORMATION_SCHEMA OPTIMIZER_TRACE Table ................................................  2637
20.13. The INFORMATION_SCHEMA PARAMETERS Table .......................................................... 2638
20.14. The INFORMATION_SCHEMA PARTITIONS Table .......................................................... 2638
20.15. The INFORMATION_SCHEMA PLUGINS Table ................................................................ 2641
20.16. The INFORMATION_SCHEMA PROCESSLIST Table ........................................................ 2642
20.17. The INFORMATION_SCHEMA PROFILING Table ............................................................ 2643
20.18. The INFORMATION_SCHEMA REFERENTIAL_CONSTRAINTS Table ................................  2644
20.19. The INFORMATION_SCHEMA ROUTINES Table .............................................................. 2644
20.20. The INFORMATION_SCHEMA SCHEMATA Table .............................................................. 2646
20.21. The INFORMATION_SCHEMA SCHEMA_PRIVILEGES Table ............................................  2646
20.22. The INFORMATION_SCHEMA STATISTICS Table .......................................................... 2647
20.23. The INFORMATION_SCHEMA TABLES Table .................................................................  2647
20.24. The INFORMATION_SCHEMA TABLESPACES Table ........................................................ 2649
20.25. The INFORMATION_SCHEMA TABLE_CONSTRAINTS Table ............................................  2649
20.26. The INFORMATION_SCHEMA TABLE_PRIVILEGES Table ..............................................  2649
20.27. The INFORMATION_SCHEMA TRIGGERS Table .............................................................. 2650
20.28. The INFORMATION_SCHEMA USER_PRIVILEGES Table ................................................  2651
20.29. The INFORMATION_SCHEMA VIEWS Table ...................................................................  2652
20.30. INFORMATION_SCHEMA Tables for InnoDB ...................................................................  2653
20.30.1. The INFORMATION_SCHEMA INNODB_CMP and INNODB_CMP_RESET Tables ....... 2653
20.30.2. The INFORMATION_SCHEMA INNODB_CMP_PER_INDEX and
INNODB_CMP_PER_INDEX_RESET Tables  .......................................................................  2654
20.30.3. The INFORMATION_SCHEMA INNODB_CMPMEM and INNODB_CMPMEM_RESET
Tables  ............................................................................................................................. 2655
20.30.4. The INFORMATION_SCHEMA INNODB_TRX Table ...............................................  2656
20.30.5. The INFORMATION_SCHEMA INNODB_LOCKS Table ...........................................  2657
20.30.6. The INFORMATION_SCHEMA INNODB_LOCK_WAITS Table .................................  2658
20.30.7. The INFORMATION_SCHEMA INNODB_SYS_TABLES Table .................................  2659
20.30.8. The INFORMATION_SCHEMA INNODB_SYS_INDEXES Table ...............................  2659
20.30.9. The INFORMATION_SCHEMA INNODB_SYS_COLUMNS Table ...............................  2660
20.30.10. The INFORMATION_SCHEMA INNODB_SYS_FIELDS Table ...............................  2661
20.30.11. The INFORMATION_SCHEMA INNODB_SYS_FOREIGN Table .............................  2661
20.30.12. The INFORMATION_SCHEMA INNODB_SYS_FOREIGN_COLS Table .................... 2661
20.30.13. The INFORMATION_SCHEMA INNODB_SYS_TABLESTATS View ......................... 2662
20.30.14. The INFORMATION_SCHEMA INNODB_SYS_DATAFILES Table .......................... 2663
20.30.15. The INFORMATION_SCHEMA INNODB_SYS_TABLESPACES Table ...................... 2663
20.30.16. The INFORMATION_SCHEMA INNODB_BUFFER_PAGE Table .............................  2663
20.30.17. The INFORMATION_SCHEMA INNODB_BUFFER_PAGE_LRU Table ...................... 2664
20.30.18. The INFORMATION_SCHEMA INNODB_BUFFER_POOL_STATS Table .................. 2665
20.30.19. The INFORMATION_SCHEMA INNODB_METRICS Table .....................................  2666
20.30.20. The INFORMATION_SCHEMA INNODB_FT_CONFIG Table .................................  2671
20.30.21. The INFORMATION_SCHEMA INNODB_FT_DEFAULT_STOPWORD Table ..............  2672
20.30.22. The INFORMATION_SCHEMA INNODB_FT_INDEX_TABLE Table ........................ 2672
20.30.23. The INFORMATION_SCHEMA INNODB_FT_INDEX_CACHE Table ........................ 2673
20.30.24. The INFORMATION_SCHEMA INNODB_FT_DELETED Table ...............................  2673
20.30.25. The INFORMATION_SCHEMA INNODB_FT_BEING_DELETED Table .................... 2674
20.31. Thread Pool INFORMATION_SCHEMA Tables .................................................................. 2674
20.31.1. The INFORMATION_SCHEMA TP_THREAD_STATE Table .....................................  2675
20.31.2. The INFORMATION_SCHEMA TP_THREAD_GROUP_STATE Table .........................  2675
20.31.3. The INFORMATION_SCHEMA TP_THREAD_GROUP_STATS Table .........................  2677
20.32. Extensions to SHOW Statements  .....................................................................................  2678

## 第二十一章
21.1. Performance Schema Quick Start  .................................................................................... 2682
21.2. Performance Schema Configuration  ................................................................................. 2688
21.2.1. Performance Schema Build Configuration .............................................................  2688
21.2.2. Performance Schema Startup Configuration ..........................................................  2689
21.2.3. Performance Schema Runtime Configuration ........................................................  2691
21.3. Performance Schema Queries  ......................................................................................... 2706
21.4. Performance Schema Instrument Naming Conventions .....................................................  2707
21.5. Performance Schema Status Monitoring  ..........................................................................  2709
21.6. Performance Schema Atom and Molecule Events ............................................................  2712
21.7. Performance Schema Statement Digests .........................................................................  2712
21.8. Performance Schema General Table Characteristics ........................................................  2714
21.9. Performance Schema Table Descriptions ......................................................................... 2714
21.9.1. Performance Schema Setup Tables  ......................................................................  2714
21.9.2. Performance Schema Instance Tables ..................................................................  2718
21.9.3. Performance Schema Wait Event Tables ..............................................................  2723
21.9.4. Performance Schema Stage Event Tables ............................................................  2726
21.9.5. Performance Schema Statement Event Tables ......................................................  2727
21.9.6. Performance Schema Connection Tables ..............................................................  2732
21.9.7. Performance Schema Connection Attribute Tables ................................................  2734
21.9.8. Performance Schema Summary Tables ................................................................  2734
21.9.9. Performance Schema Miscellaneous Tables .......................................................... 2747
21.10. Performance Schema Option and Variable Reference ..................................................... 2753
21.11. Performance Schema Command Options ....................................................................... 2754
21.12. Performance Schema System Variables ........................................................................  2755
21.13. Performance Schema Status Variables  ..........................................................................  2766
21.14. Performance Schema and Plugins  .................................................................................  2767
21.15. Using the Performance Schema to Diagnose Problems ..................................................  2768

## 第二十二章
22.1. MySQL Connector/ODBC  ................................................................................................  2776
22.1.1. Connector/ODBC Versions  ...................................................................................  2776
22.1.2. Connector/ODBC Introduction  ...............................................................................  2777
22.1.3. Connector/ODBC Installation  ................................................................................  2780
22.1.4. Configuring Connector/ODBC  ...............................................................................  2790
22.1.5. Connector/ODBC Examples  .................................................................................  2810
22.1.6. Connector/ODBC Reference  .................................................................................  2836
22.1.7. Connector/ODBC Notes and Tips  .........................................................................  2842
22.1.8. Connector/ODBC Support  ....................................................................................  2852
22.2. MySQL Connector/Net  ....................................................................................................  2853
22.2.1. Connector/Net Versions  ........................................................................................ 2854
22.2.2. Connector/Net Installation  ..................................................................................... 2856
22.2.3. Connector/Net Visual Studio Integration ................................................................  2863
22.2.4. Connector/Net Tutorials  ........................................................................................  2894
22.2.5. Connector/Net Programming  ................................................................................. 2934
22.2.6. Connector/Net Connection String Options Reference .............................................  2973
22.2.7. Connector/Net Support for Windows Store ............................................................  2980
22.2.8. EF 5 Support  .......................................................................................................  2980
22.2.9. Connector/Net API Reference  ............................................................................... 2984
22.2.10. Connector/Net Support  .......................................................................................  3117
22.2.11. Connector/Net FAQ  ............................................................................................  3118
22.3. MySQL Connector/J  ........................................................................................................ 3119
22.3.1. Overview of MySQL Connector/J  ..........................................................................  3119
22.3.2. Connector/J Versions  ...........................................................................................  3119
22.3.3. Connector/J Installation  ........................................................................................  3121
22.3.4. Connector/J Examples  .........................................................................................  3125
22.3.5. Connector/J (JDBC) Reference  ............................................................................. 3126
22.3.6. JDBC Concepts  ...................................................................................................  3159
22.3.7. Connection Pooling with Connector/J ....................................................................  3168
22.3.8. Load Balancing with Connector/J  ..........................................................................  3171
22.3.9. Failover with Connector/J  .....................................................................................  3174
22.3.10. Using the Connector/J Interceptor Classes ..........................................................  3175
22.3.11. Using Connector/J with Tomcat  ..........................................................................  3176
22.3.12. Using Connector/J with JBoss  ............................................................................  3177
22.3.13. Using Connector/J with Spring  ............................................................................  3178
22.3.14. Using Connector/J with GlassFish  .......................................................................  3182
22.3.15. Troubleshooting Connector/J Applications ...........................................................  3188
22.3.16. Known Issues and Limitations  ............................................................................. 3195
22.3.17. Connector/J Support  ........................................................................................... 3196
22.4. MySQL Connector/C++  ...................................................................................................  3197
22.4.1. How to Get MySQL Connector/C++  ......................................................................  3199
22.4.2. Installing MySQL Connector/C++ from a Binary Distribution ....................................  3200
22.4.3. Installing MySQL Connector/C++ from Source .......................................................  3202
22.4.4. Building MySQL Connector/C++ Windows Applications with Microsoft Visual Studio .  3207
22.4.5. Building MySQL Connector/C++ Linux Applications with NetBeans .........................  3215
22.4.6. MySQL Connector/C++ Getting Started: Usage Examples ......................................  3219
22.4.7. MySQL Connector/C++ Tutorials  ..........................................................................  3225
22.4.8. MySQL Connector/C++ Debug Tracing .................................................................  3233
22.4.9. MySQL Connector/C++ Usage Notes ....................................................................  3234
22.4.10. MySQL Connector/C++ Known Bugs and Issues .................................................  3238
22.4.11. MySQL Connector/C++ Support  ..........................................................................  3239
22.5. MySQL Connector/C  .......................................................................................................  3239
22.5.1. MySQL Connector/C Versions  ..............................................................................  3239
22.5.2. MySQL Connector/C Supported Platforms .............................................................  3240
22.5.3. MySQL Connector/C Distribution Contents ............................................................  3240
22.5.4. Installing MySQL Connector/C  ..............................................................................  3241
22.5.5. Building MySQL Connector/C Applications ............................................................  3245
22.6. MySQL Connector/Python  ...............................................................................................  3246
22.6.1. Guidelines for Python Developers  .........................................................................  3246
22.6.2. Connector/Python Versions  ..................................................................................  3248
22.6.3. Connector/Python Installation  ...............................................................................  3248
22.6.4. Connector/Python Coding Examples .....................................................................  3250
22.6.5. Connector/Python Tutorials  ................................................................................... 3256
22.6.6. Connector/Python Connection Arguments .............................................................  3257
22.6.7. Connector/Python API Reference  .......................................................................... 3260
22.7. libmysqld, the Embedded MySQL Server Library ..............................................................  3281
22.7.1. Compiling Programs with libmysqld ...................................................................  3281
22.7.2. Restrictions When Using the Embedded MySQL Server .........................................  3282
22.7.3. Options with the Embedded Server  .......................................................................  3282
22.7.4. Embedded Server Examples  ................................................................................  3283
22.8. MySQL C API  ................................................................................................................  3286
22.8.1. MySQL C API Implementations  ............................................................................  3287
22.8.2. Simultaneous MySQL Server and MySQL Connector/C Installations .......................  3288
22.8.3. Example C API Client Programs  ...........................................................................  3289
22.8.4. Building and Running C API Client Programs ........................................................  3289
22.8.5. C API Data Structures  .......................................................................................... 3292
22.8.6. C API Function Overview  .....................................................................................  3297
22.8.7. C API Function Descriptions  .................................................................................  3301
22.8.8. C API Prepared Statements  .................................................................................  3351
22.8.9. C API Prepared Statement Data Structures ...........................................................  3351
22.8.10. C API Prepared Statement Function Overview .....................................................  3357
22.8.11. C API Prepared Statement Function Descriptions ................................................  3360
22.8.12. C API Threaded Function Descriptions ................................................................  3382
22.8.13. C API Embedded Server Function Descriptions ...................................................  3384
22.8.14. C API Client Plugin Functions  .............................................................................  3384
22.8.15. Common Questions and Problems When Using the C API ...................................  3387
22.8.16. Controlling Automatic Reconnection Behavior ......................................................  3389
22.8.17. C API Support for Multiple Statement Execution ..................................................  3390
22.8.18. C API Prepared Statement Problems ..................................................................  3392
22.8.19. C API Prepared Statement Handling of Date and Time Values .............................. 3392
22.8.20. C API Support for Prepared CALL Statements .....................................................  3394
22.9. MySQL PHP API  ............................................................................................................  3397
22.9.1. Overview of the MySQL PHP drivers ....................................................................  3398
22.9.2. Original MySQL API (Mysql)  ................................................................................ 3405
22.9.3. MySQL Improved Extension (Mysqli) ..................................................................  3474
22.9.4. MySQL Functions (PDO_MYSQL) (MySQL (PDO)) ...............................................  3692
22.9.5. MySQL Native Driver (Mysqlnd)  ..........................................................................  3696
22.9.6. Mysqlnd replication and load balancing plugin (mysqlnd_ms) ................................  3728
22.9.7. Mysqlnd query result cache plugin (mysqlnd_qc) .................................................  3833
22.9.8. Mysqlnd user handler plugin (mysqlnd_uh) ..........................................................  3884
22.9.9. Mysqlnd connection multiplexing plugin (mysqlnd_mux) ........................................  3967
22.9.10. Mysqlnd Memcache plugin (mysqlnd_memcache) ..............................................  3971
22.9.11. Connector/PHP  ..................................................................................................  3980
22.9.12. Common Problems with MySQL and PHP ...........................................................  3980
22.9.13. Enabling Both mysql and mysqli in PHP ..........................................................  3980
22.10. MySQL Perl API  ...........................................................................................................  3981
22.11. MySQL Python API  .......................................................................................................  3982
22.12. MySQL Ruby APIs  ........................................................................................................  3982
22.12.1. The MySQL/Ruby API  ........................................................................................  3982
22.12.2. The Ruby/MySQL API  ........................................................................................  3982
22.13. MySQL Tcl API  ............................................................................................................. 3982
22.14. MySQL Eiffel Wrapper  ..................................................................................................  3982

## 第二十三章
23.1. MySQL Internals  .............................................................................................................  3983
23.1.1. MySQL Threads  ................................................................................................... 3983
23.1.2. The MySQL Test Suite  ......................................................................................... 3984
23.2. The MySQL Plugin API  ...................................................................................................  3985
23.2.1. Plugin API Characteristics  ....................................................................................  3985
23.2.2. Plugin API Components  .......................................................................................  3986
23.2.3. Types of Plugins  ..................................................................................................  3987
23.2.4. Writing Plugins  ..................................................................................................... 3990
23.2.5. MySQL Services for Plugins  .................................................................................  4030
23.3. Adding New Functions to MySQL  ....................................................................................  4032
23.3.1. Features of the User-Defined Function Interface ....................................................  4032
23.3.2. Adding a New User-Defined Function ...................................................................  4032
23.3.3. Adding a New Native Function  .............................................................................  4042
23.4. Debugging and Porting MySQL  .......................................................................................  4043
23.4.1. Debugging a MySQL Server  .................................................................................  4044
23.4.2. Debugging a MySQL Client  ..................................................................................  4050
23.4.3. The DBUG Package  ............................................................................................  4050

## 第二十四章
24.1. MySQL Enterprise Monitor  ..............................................................................................  4053
24.2. MySQL Enterprise Backup  ..............................................................................................  4054
24.3. MySQL Enterprise Security  .............................................................................................  4054
24.4. MySQL Enterprise Audit  .................................................................................................. 4055
24.5. MySQL Enterprise Thread Pool  .......................................................................................  4055

## 第二十五章


## 第二十六章
26.1. Installing and Configuring  ................................................................................................  4059
26.2. Edit MySQL Data in Excel  ..............................................................................................  4060
26.3. Import MySQL Data into Excel  ........................................................................................  4061
26.4. Append Excel Data into MySQL  ......................................................................................  4062
26.5. Export Excel Data into MySQL  ........................................................................................  4065
26.6. MySQL for Excel FAQ  ....................................................................................................  4068


## 附录 A
A.1. Ant-Contrib License  ..........................................................................................................  4074
A.2. ANTLR 3 License  ............................................................................................................. 4074
A.3. ANTLR 3.3 License  ..........................................................................................................  4075
A.4. Boost Library License  .......................................................................................................  4075
A.5. Bouncy Castle 1.7 License  ...............................................................................................  4076
A.6. c3p0 JDBC Library License  ..............................................................................................  4076
A.7. Django 1.5.1 License  .......................................................................................................  4076
A.8. dtoa.c License  ...............................................................................................................  4077
A.9. Editline Library (libedit) License  ...................................................................................  4077
A.10. Editline Library (libedit) License  .................................................................................  4080
A.11. Facebook Fast Checksum Patch License ........................................................................  4082
A.12. Facebook Patches License  .............................................................................................  4083
A.13. FindGTest.cmake License  ...........................................................................................  4083
A.14. Fred Fish's Dbug Library License  ....................................................................................  4084
A.15. getarg License  .............................................................................................................  4085
A.16. GLib License (for MySQL Proxy)  ..................................................................................... 4085
A.17. GNU General Public License Version 2.0, June 1991 .......................................................  4086
A.18. GNU General Public License Version 3.0, 29 June 2007 and GCC Runtime Library
Exception Version 3.1, 31 March 2009  .....................................................................................  4091
A.19. GNU Lesser General Public License Version 2.1, February 1999 ......................................  4102
A.20. GNU Libtool License  ......................................................................................................  4109
A.21. GNU Readline License  ...................................................................................................  4110
A.22. GNU Standard C++ Library (libstdc++) License ................................................................ 4110
A.23. Google Controlling Master Thread I/O Rate Patch License ...............................................  4111
A.24. Google Perftools (TCMalloc utility) License ......................................................................  4112
A.25. Google SMP Patch License  ............................................................................................  4112
A.26. jboss-common-jdbc-wrapper.jar License  ..........................................................................  4113
A.27. lib_sql.cc License  .....................................................................................................  4113
A.28. Libaio License  ................................................................................................................  4113
A.29. libevent License  .........................................................................................................  4114
A.30. Libiconv License  ............................................................................................................. 4115
A.31. libintl License  ...........................................................................................................  4116
A.32. Linux-PAM License  ......................................................................................................... 4116
A.33. LPeg Library License  .....................................................................................................  4117
A.34. Lua (liblua) License  ........................................................................................................  4117
A.35. LuaFileSystem Library License  .................................................................................... 4118
A.36. md5 (Message-Digest Algorithm 5) License .....................................................................  4118
A.37. memcached License  .......................................................................................................  4118
A.38. mkpasswd.pl License  ...................................................................................................  4119
A.39. Node.js License  ...........................................................................................................  4122
A.40. nt_servc (Windows NT Service class library) License .......................................................  4128
A.41. OpenPAM License  .........................................................................................................  4128
A.42. OpenSSL v1.0 License  ...................................................................................................  4129
A.43. Paramiko License  ...........................................................................................................  4130
A.44. PCRE License  ................................................................................................................ 4130
A.45. Percona Multiple I/O Threads Patch License ...................................................................  4131
A.46. Python License  ..............................................................................................................  4132
A.47. Red HAT RPM Spec File License  ...................................................................................  4142
A.48. RegEX-Spencer Library License  ...................................................................................... 4142
A.49. RFC 3174 - US Secure Hash Algorithm 1 (SHA1) License ...............................................  4142
A.50. Richard A. O'Keefe String Library License .......................................................................  4143
A.51. SHA-1 in C License  ........................................................................................................ 4143
A.52. Simple Logging Facade for Java (SLF4J) License ............................................................ 4144
A.53. Unicode Data Files  .........................................................................................................  4144
A.54. V8 License  .....................................................................................................................  4144
A.55. zlib License  .................................................................................................................  4148
A.56. ZLIB.NET License  ..........................................................................................................  4148

## 附录 B
B.1. MySQL 5.6 FAQ: General  ................................................................................................  4151
B.2. MySQL 5.6 FAQ: Storage Engines  .................................................................................... 4153
B.3. MySQL 5.6 FAQ: Server SQL Mode  .................................................................................  4154
B.4. MySQL 5.6 FAQ: Stored Procedures and Functions ........................................................... 4155
B.5. MySQL 5.6 FAQ: Triggers  ................................................................................................  4159
B.6. MySQL 5.6 FAQ: Views  ...................................................................................................  4161
B.7. MySQL 5.6 FAQ: INFORMATION_SCHEMA ......................................................................... 4162
B.8. MySQL 5.6 FAQ: Migration  ............................................................................................... 4163
B.9. MySQL 5.6 FAQ: Security  ................................................................................................  4163
B.10. MySQL 5.6 FAQ: MySQL Cluster  ....................................................................................  4164
B.11. MySQL 5.6 FAQ: MySQL Chinese, Japanese, and Korean Character Sets ........................  4177
B.12. MySQL 5.6 FAQ: Connectors & APIs  ..............................................................................  4189
B.13. MySQL 5.6 FAQ: Replication  ..........................................................................................  4189
B.14. MySQL 5.6 FAQ: MySQL Enterprise Scalability Thread Pool ............................................  4193


## 附录 C
C.1. Sources of Error Information  ............................................................................................. 4195
C.2. Types of Error Values  ......................................................................................................  4195
C.3. Server Error Codes and Messages  ...................................................................................  4196
C.4. Client Error Codes and Messages  ....................................................................................  4260
C.5. Problems and Common Errors  .........................................................................................  4265
C.5.1. How to Determine What Is Causing a Problem .......................................................  4265
C.5.2. Common Errors When Using MySQL Programs ......................................................  4266
C.5.3. Installation-Related Issues  .....................................................................................  4278
C.5.4. Administration-Related Issues  ................................................................................  4279
C.5.5. Query-Related Issues  ............................................................................................  4286
C.5.6. Optimizer-Related Issues  .......................................................................................  4292
C.5.7. Table Definition-Related Issues  ..............................................................................  4293
C.5.8. Known Issues in MySQL  .......................................................................................  4294


## 附录 D


## 附录 E
E.1. Restrictions on Stored Programs  ....................................................................................... 4299
E.2. Restrictions on Condition Handling  .................................................................................... 4302
E.3. Restrictions on Server-Side Cursors  .................................................................................. 4302
E.4. Restrictions on Subqueries  ...............................................................................................  4303
E.5. Restrictions on Views  .......................................................................................................  4305
E.6. Restrictions on XA Transactions  .......................................................................................  4306
E.7. Restrictions on Character Sets  .........................................................................................  4307
E.8. Restrictions on Performance Schema  ................................................................................ 4307
E.9. Restrictions on Pluggable Authentication  ...........................................................................  4308
E.10. Limits in MySQL  ............................................................................................................. 4309
E.10.1. Limits of Joins  .....................................................................................................  4309
E.10.2. Limits on Number of Databases and Tables ..........................................................  4310
E.10.3. Limits on Table Size  ............................................................................................  4310
E.10.4. Limits on Table Column Count and Row Size .......................................................  4311
E.10.5. Limits Imposed by .frm File Structure .................................................................  4312
E.10.6. Windows Platform Limitations  ...............................................................................  4313


